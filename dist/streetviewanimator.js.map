{"version":3,"file":"streetviewanimator.js","sources":["../src/main.js","../src/debug.js","../src/map.js","../src/movie.js","../src/router.js","../src/scene.js"],"names":["window","streetviewanimator","SVA","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","map","options","movieInstance","base","$SVA","__construct","arguments","movie","playerDebug","router","apiKey","frameWidth","frameHeight","player","frameRate","domElement","scenes","streetviewUrl","onReady","onSceneCreate","scene","onSceneUpdate","onSceneDestroy","onGenerateStart","onGenerateEnd","onReset","onPlayerReady","onPlayerLoadStart","onPlayerLoadStop","onPlayerLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onPlayerLoadComplete","onPlayerPlay","onPlayerBufferStart","onPlayerBufferStop","onPlayerStop","onPlayerEnterFrame","currentFrame","onPlayerExitFrame","onPlayerLoop","onPlayerReset","onPlayerEnterScene","onPlayerExitScene","sceneStartFrames","sceneStopFrames","generated","isGenerating","$","extend","doReset","frameplayer","playerWidth","playerHeight","call","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","playerEnterFrame","onExitFrame","playerExitFrame","onLoop","id","sceneId","setOptions","getNumScenes","numScenes","key","getNumFrames","numFrames","sceneNumFrames","generate","element","addClass","deferred","Deferred","requiresGeneration","resolve","doGenerate","done","removeClass","promise","fail","data","getId","always","play","resolvePlay","resetPlayer","reset","lastStartFrame","lastEndFrame","addFrames","getFrames","stop","methodName","setFrameRate","parseInt","setFrameSize","width","height","setPlayerSize","setApiKey","directionService","geocoder","computeHeading","geocodeCache","google","maps","DirectionsService","Geocoder","geometry","spherical","getCoordinatesFromAddress","address","geocode","results","status","GeocoderStatus","OK","location","lat","lng","coordinates","reject","response","getDirections","origin","destination","travelMode","originObj","destinationObj","request","LatLng","DirectionsTravelMode","DRIVING","route","DirectionsStatus","type","startHeading","finishHeading","duration","target","pitch","fov","frames","validateOptions","newOptions","parseFloat","properties","regex","bits","test","split","geocodePoints","maxFrames","points","s","routes","legs","r","u","steps","d","g","lat_lngs","logPrefix","heading","url","targetObj","generateStreetViewUrl","interval","Math","ceil","currentHeading","trim","geocodeDeferred","doGeocodePoints","check","toGeocode"],"mappings":"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"}