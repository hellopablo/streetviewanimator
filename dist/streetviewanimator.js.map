{"version":3,"file":"streetviewanimator.js","sources":["../src/main.js","../src/debug.js","../src/map.js","../src/movie.js","../src/router.js","../src/scene.js"],"names":["window","streetviewanimator","SVA","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","map","options","movieInstance","base","$SVA","__construct","arguments","movie","playerDebug","router","apiKey","frameWidth","frameHeight","player","frameRate","domElement","scenes","onReady","onSceneCreate","scene","onSceneUpdate","onSceneDestroy","onGenerateStart","onGenerateEnd","onReset","onPlayerReady","onPlayerLoadStart","onPlayerLoadStop","onPlayerLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onPlayerLoadComplete","onPlayerPlay","onPlayerBufferStart","onPlayerBufferStop","onPlayerStop","onPlayerEnterFrame","currentFrame","onPlayerExitFrame","onPlayerLoop","onPlayerReset","onPlayerEnterScene","onPlayerExitScene","sceneStartFrames","sceneStopFrames","generated","isGenerating","$","extend","doReset","frameplayer","playerWidth","playerHeight","call","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","playerEnterFrame","onExitFrame","playerExitFrame","onLoop","id","sceneId","setOptions","getNumScenes","numScenes","key","getNumFrames","numFrames","sceneNumFrames","generate","element","addClass","deferred","Deferred","requiresGeneration","resolve","doGenerate","done","removeClass","promise","fail","data","getId","always","play","resolvePlay","resetPlayer","reset","lastStartFrame","lastEndFrame","addFrames","getFrames","stop","methodName","setFrameRate","parseInt","setFrameSize","width","height","setPlayerSize","setApiKey","directionService","geocoder","computeHeading","geocodeCache","google","maps","DirectionsService","Geocoder","geometry","spherical","getCoordinatesFromAddress","address","geocode","results","status","GeocoderStatus","OK","location","lat","lng","coordinates","reject","response","getDirections","origin","destination","travelMode","originObj","destinationObj","request","LatLng","DirectionsTravelMode","DRIVING","route","DirectionsStatus","type","startHeading","finishHeading","duration","target","pitch","fov","frames","validateOptions","newOptions","parseFloat","properties","regex","bits","test","split","geocodePoints","maxFrames","points","s","routes","legs","r","u","steps","d","g","lat_lngs","logPrefix","heading","url","targetObj","generateStreetViewUrl","interval","Math","ceil","currentHeading","trim","geocodeDeferred","doGeocodePoints","check","toGeocode"],"mappings":"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"}