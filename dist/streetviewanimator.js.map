{"version":3,"file":"streetviewanimator.js","sources":["../src/main.js","../src/debug.js","../src/map.js","../src/movie.js","../src/router.js","../src/scene.js"],"names":["window","streetviewanimator","SVA","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","map","options","movieInstance","base","$SVA","__construct","arguments","movie","playerDebug","router","apiKey","frameWidth","frameHeight","player","frameRate","domElement","mode","scenes","onReady","onSceneCreate","scene","onSceneUpdate","onSceneDestroy","onGenerateStart","onGenerateEnd","onReset","onPlayerReady","onPlayerLoadStart","onPlayerLoadStop","onPlayerLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onPlayerLoadComplete","onPlayerPlay","onPlayerBufferStart","onPlayerBufferStop","onPlayerStop","onPlayerEnterFrame","currentFrame","onPlayerExitFrame","onPlayerLoop","onPlayerReset","onPlayerEnterScene","onPlayerExitScene","sceneStartFrames","sceneStopFrames","generated","isGenerating","$","extend","doReset","frameplayer","call","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","playerEnterFrame","onExitFrame","playerExitFrame","onLoop","id","sceneId","setOptions","getNumScenes","numScenes","key","getNumFrames","numFrames","sceneNumFrames","generate","element","addClass","deferred","Deferred","requiresGeneration","resolve","doGenerate","done","removeClass","promise","fail","data","getId","always","play","resolvePlay","resetPlayer","reset","lastStartFrame","lastEndFrame","addFrames","getFrames","stop","methodName","setFrameRate","parseInt","setFrameSize","width","height","setApiKey","directionService","geocoder","computeHeading","geocodeCache","google","maps","DirectionsService","Geocoder","geometry","spherical","getCoordinatesFromAddress","address","geocode","results","status","GeocoderStatus","OK","location","lat","lng","coordinates","reject","response","getDirections","origin","destination","travelMode","originObj","destinationObj","request","LatLng","DirectionsTravelMode","DRIVING","route","DirectionsStatus","type","duration","target","pitch","fov","frames","validateOptions","newOptions","parseFloat","properties","regex","bits","test","split","geocodePoints","maxFrames","points","s","routes","legs","r","u","steps","d","g","lat_lngs","logPrefix","heading","url","targetObj","generateStreetViewUrl","trim","geocodeDeferred","doGeocodePoints","check","toGeocode"],"mappings":"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"}