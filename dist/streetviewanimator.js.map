{"version":3,"file":"streetviewanimator.js","sources":["../src/main.js","../src/debug.js","../src/map.js","../src/movie.js","../src/router.js","../src/scene.js"],"names":["window","streetviewanimator","SVA","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","map","options","movieInstance","base","$SVA","__construct","arguments","movie","playerDebug","router","apiKey","frameWidth","frameHeight","player","frameRate","domElement","scenes","streetviewUrl","onReady","onSceneCreate","scene","onSceneUpdate","onSceneDestroy","onGenerateStart","onGenerateEnd","onReset","onPlayerReady","onPlayerLoadStart","onPlayerLoadStop","onPlayerLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onPlayerLoadComplete","onPlayerPlay","onPlayerBufferStart","onPlayerBufferStop","onPlayerStop","onPlayerFinish","onPlayerEnterFrame","currentFrame","onPlayerExitFrame","onPlayerLoop","onPlayerReset","onPlayerEnterScene","onPlayerExitScene","sceneStartFrames","sceneStopFrames","generated","isGenerating","$","extend","doReset","frameplayer","playerWidth","playerHeight","call","onLoadStart","onLoadStop","onLoadProgress","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onFinish","onEnterFrame","playerEnterFrame","onExitFrame","playerExitFrame","onLoop","id","sceneId","setOptions","getNumScenes","numScenes","key","getNumFrames","numFrames","sceneNumFrames","generate","element","addClass","deferred","Deferred","requiresGeneration","resolve","doGenerate","done","removeClass","promise","fail","data","getId","always","play","resolvePlay","resetPlayer","reset","lastStartFrame","lastEndFrame","addFrames","getFrames","stop","methodName","setFrameRate","parseInt","setFrameSize","width","height","setPlayerSize","setApiKey","directionService","geocoder","computeHeading","geocodeCache","google","maps","DirectionsService","Geocoder","geometry","spherical","getCoordinatesFromAddress","address","geocode","results","status","GeocoderStatus","OK","location","lat","lng","coordinates","reject","response","getDirections","origin","destination","travelMode","originObj","destinationObj","request","LatLng","DirectionsTravelMode","DRIVING","route","DirectionsStatus","type","startHeading","finishHeading","duration","target","pitch","fov","frames","validateOptions","newOptions","parseFloat","properties","regex","bits","test","split","geocodePoints","maxFrames","points","s","routes","legs","r","u","steps","d","g","lat_lngs","logPrefix","heading","url","targetObj","generateStreetViewUrl","interval","Math","ceil","currentHeading","trim","geocodeDeferred","doGeocodePoints","check","toGeocode"],"mappings":"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"}