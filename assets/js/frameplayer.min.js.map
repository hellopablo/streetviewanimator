{"version":3,"file":"frameplayer.min.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","renderMode","bufferSize","loop","autoPlay","autoLoad","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvas","scrubber","playerTimeout","extend","setFrames","first","find","renderUrl","goToFrame","call","play","clearFrames","addFrames","addFrame","frameNumber","renderFrame","css","html","requiresBuffer","configuredBufferSize","actualBufferSize","substr","Math","ceil","parseInt","getNumFrames","buffer","doPlay","percentagePlayed","width","frameDelay","clearTimeout","setTimeout","stop","addClass","doBuffer","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr","empty"],"mappings":"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"}