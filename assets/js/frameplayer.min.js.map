{"version":3,"file":"frameplayer.min.js","sources":["../src/main.js","../src/debug.js","../src/frame.js","../src/player.js"],"names":["window","frameplayer","FP","debug","enabled","log","caller","items","this","execConsoleFunc","info","warn","error","method","console","methods","i","length","args","x","push","apply","frame","frameUrl","base","$FP","url","loaded","__construct","load","deferred","$","Deferred","img","Image","onload","resolve","onerror","src","promise","getUrl","isLoaded","arguments","player","options","frameRate","domElement","canvasClass","scrubberClass","coverImg","bufferSize","loop","autoPlay","autoLoad","playerWidth","playerHeight","frames","onReady","onLoadStart","onLoadStop","onLoadProgress","lastFrameLoaded","totalFrames","percentageLoaded","onLoadComplete","onPlay","onBufferStart","onBufferStop","onStop","onEnterFrame","currentFrame","onExitFrame","onLoop","onReset","ready","playerState","loaderState","element","canvasContainer","canvas","canvasContext","canvasImg","scrubber","playerTimeout","extend","setFrames","first","find","document","createElement","getContext","append","setPlayerSize","renderUrl","call","startAnimationLoop","clearFrames","addFrames","addFrame","goToFrame","frameNumber","renderFrame","drawImage","width","height","requiresBuffer","configuredBufferSize","actualBufferSize","substr","Math","ceil","parseInt","play","getNumFrames","buffer","frameDelay","timeOld","timeNew","timeDiff","percentagePlayed","Date","now","processFrame","requestAnimationFrame","stop","addClass","doBuffer","setTimeout","bufferStop","startFrame","doLoad","calcPercentLoaded","done","loadStop","removeClass","getPlayerState","getLoaderState","getCurrentFrame","reset","removeAttr"],"mappings":"AAKkC,mBAAvBA,QAAOC,cACdD,OAAOC,eAEPD,OAAOE,GAAKF,OAAOC,aCJvBD,OAAOC,YAAYE,OAMfC,SAAW,EAUXC,IAAO,SAASC,EAAQC,GACpB,MAAOC,MAAKC,gBAAgB,MAAOH,EAAQC,IAW/CG,KAAQ,SAASJ,EAAQC,GACrB,MAAOC,MAAKC,gBAAgB,OAAQH,EAAQC,IAWhDI,KAAQ,SAASL,EAAQC,GACrB,MAAOC,MAAKC,gBAAgB,OAAQH,EAAQC,IAWhDK,MAAS,SAASN,EAAQC,GACtB,MAAOC,MAAKC,gBAAgB,QAASH,EAAQC,IAYjDE,gBAAmB,SAASI,EAAQP,EAAQC,GAExC,GAAIC,KAAKJ,SAA8B,mBAAZU,SAIvB,IAAK,GAFDC,IAAW,MAAO,OAAQ,OAAQ,SAE7BC,EAAID,EAAQE,OAAS,EAAGD,GAAK,EAAGA,IACrC,GAAID,EAAQC,KAAOH,GAAyC,kBAAxBC,SAAQC,EAAQC,IAAoB,CAEpE,GAAIE,IAAQZ,EAEZ,IAAqB,mBAAVC,GACP,IAAK,GAAIY,GAAI,EAAGA,EAAIZ,EAAMU,OAAQE,IAC9BD,EAAKE,KAAKb,EAAMY,GAIxBL,SAAQC,EAAQC,IAAIK,MAAMP,QAASI,EACnC,OAKZ,MAAOV,QCvFfR,OAAOC,YAAYqB,MAAQ,SAASC,GAMhC,GAAIC,GAAOhB,KAQPiB,EAAMzB,OAAOC,WA+GjB,OAvGAuB,GAAKE,IAAM,KAQXF,EAAKG,OAAS,KAQdH,EAAKI,YAAc,WAIf,MAFAJ,GAAKE,IAAMH,EACXC,EAAKG,QAAS,EACPH,GASXA,EAAKK,KAAO,WAERL,EAAKnB,IAAI,gBAAiBmB,EAAKE,IAC/B,IAAII,GAAW,GAAIC,GAAEC,SAEjBC,EAAM,GAAIC,MAiBd,OAfAD,GAAIE,OAAS,WAETX,EAAKG,QAAS,EACdG,EAASM,WAGbH,EAAII,QAAU,WAEVb,EAAKZ,MAAM,8BAAgCY,EAAKE,KAChDF,EAAKG,QAAS,EACdG,EAASM,WAGbH,EAAIK,IAAMd,EAAKE,IAERI,EAASS,WASpBf,EAAKgB,OAAS,WACV,MAAOhB,GAAKE,KAShBF,EAAKiB,SAAW,WAEZ,MAAOjB,GAAKG,QAUhBH,EAAKnB,IAAM,WAGP,MADAoB,GAAItB,MAAME,IAAI,cAAeqC,WACtBlB,GAUXA,EAAKZ,MAAQ,WAGT,MADAa,GAAItB,MAAMS,MAAM,cAAe8B,WACxBlB,GAKJA,EAAKI,eC7HhB5B,OAAOC,YAAY0C,OAAS,SAASC,GAMjC,GAAIpB,GAAOhB,KAQPiB,EAAMzB,OAAOC,WAo5BjB,OA54BAuB,GAAKoB,SACDC,UAAa,GACbC,WAAc,KACdC,YAAe,UACfC,cAAiB,YACjBC,SAAY,KACZC,WAAc,MACdC,MAAQ,EACRhD,OAAS,EACTiD,UAAY,EACZC,UAAY,EACZC,YAAe,IACfC,aAAgB,IAChBC,UAGAC,QAAW,aACXC,YAAe,aACfC,WAAc,aACdC,eAAkB,SAASC,EAAiBC,EAAaC,KACzDC,eAAkB,aAClBC,OAAU,aACVC,cAAiB,aACjBC,aAAgB,aAChBC,OAAU,aACVC,aAAgB,SAASC,KACzBC,YAAe,SAASD,KACxBE,OAAU,aACVC,QAAW,cAcfjD,EAAKkD,OAAQ,EAQblD,EAAKgC,UAQLhC,EAAKmD,YAAc,UAQnBnD,EAAKoD,YAAc,UAQnBpD,EAAK8C,aAAe,KAQpB9C,EAAKqC,gBAAkB,KAQvBrC,EAAKqD,QAAU,KAQfrD,EAAKsD,gBAAkB,KAQvBtD,EAAKuD,OAAS,KAQdvD,EAAKwD,cAAgB,KAQrBxD,EAAKyD,UAAY,KAQjBzD,EAAK0D,SAAW,KAIhB1D,EAAK2D,cAAgB,KAQrB3D,EAAKI,YAAc,WAwFf,MArFAJ,GAAKoB,QAAUb,EAAEqD,QAAO,EAAM5D,EAAKoB,QAASA,GAGxCpB,EAAKoB,QAAQzC,QACbsB,EAAItB,MAAMC,SAAU,GAGxBoB,EAAKnB,IAAI,gBAKLmB,EAAKoB,QAAQY,OAAOvC,QACpBO,EAAK6D,UAAU7D,EAAKoB,QAAQY,QAMO,gBAA5BhC,GAAKoB,QAAQE,WACpBtB,EAAKqD,QAAU9C,EAAEP,EAAKoB,QAAQE,YAAYwC,QAE1C9D,EAAKqD,QAAU9C,EAAEP,EAAKoB,QAAQE,YAAYwC,QAI9C9D,EAAKsD,gBAAkBtD,EAAKqD,QAAQU,KAAK/D,EAAKoB,QAAQG,aAAauC,QACnE9D,EAAKuD,OAASS,SAASC,cAAc,UACrCjE,EAAKwD,cAAgBxD,EAAKuD,OAAOW,WAAW,MAG5ClE,EAAKyD,UAAYO,SAASC,cAAc,OAGxCjE,EAAKsD,gBAAgBa,OAAOnE,EAAKuD,QAGjCvD,EAAK0D,SAAW1D,EAAKqD,QAAQU,KAAK/D,EAAKoB,QAAQI,eAAesC,QAG9D9D,EAAKoE,cAAcpE,EAAKoB,QAAQU,YAAa9B,EAAKoB,QAAQW,cAK1D/B,EAAKkD,OAAQ,EACblD,EAAKmD,YAAc,UAGfnD,EAAKoB,QAAQK,UAGbzB,EAAKnB,IAAI,0BAA4BmB,EAAKoB,QAAQK,UAClDzB,EAAKqE,UAAUrE,EAAKoB,QAAQK,WAErBzB,EAAKoB,QAAQY,OAAOvC,QAG3BO,EAAKnB,IAAI,sCACTmB,EAAKqE,UAAUrE,EAAKoB,QAAQY,OAAO,KAInChC,EAAKnB,IAAI,4BAGbmB,EAAKoB,QAAQa,QAAQqC,KAAKtE,GAItBA,EAAKgC,OAAOvC,QAAUO,EAAKoB,QAAQQ,SAEnC5B,EAAKmD,YAAc,UAEZnD,EAAKgC,OAAOvC,QAAUO,EAAKoB,QAAQS,UAE1C7B,EAAKK,OAKTL,EAAKuE,qBAIEvE,GAUXA,EAAK6D,UAAY,SAAS7B,GAUtB,MARAhC,GAAKnB,IAAI,mBAAqBmD,EAAOvC,OAAS,WAG9CO,EAAKwE,cAGLxE,EAAKyE,UAAUzC,GAERhC,GASXA,EAAKwE,YAAc,WAIf,MAFAxE,GAAKnB,IAAI,mBACTmB,EAAKgC,UACEhC,GAUXA,EAAKyE,UAAY,SAASzC,GAEtBhC,EAAKnB,IAAI,aAAemD,EAAOvC,OAAS,UACxC,KAAK,GAAID,GAAI,EAAGA,EAAIwC,EAAOvC,OAAQD,IAC/BQ,EAAK0E,SAAS1C,EAAOxC,GAEzB,OAAOQ,IAUXA,EAAK0E,SAAW,SAAS3E,GAQrB,MANAC,GAAKnB,IAAI,iBAAmBkB,GAC5BC,EAAKgC,OAAOpC,KAAK,GAAIK,GAAIH,MAAMC,IAG/BC,EAAKoD,YAAc,UAEZpD,GAUXA,EAAK2E,UAAY,SAASC,GAUtB,MARI5E,GAAKkD,OACLlD,EAAKnB,IAAI,kBAAoB+F,GAC7B5E,EAAK8C,aAAe8B,EACpB5E,EAAK6E,YAAYD,IAEjB5E,EAAKb,KAAK,oCAGPa,GAUXA,EAAK6E,YAAc,SAASD,GAExB,GAAwC,gBAA7B5E,GAAKgC,OAAO4C,GAA2B,CAE9C,GAAI9E,GAAQE,EAAKgC,OAAO4C,EAExB5E,GAAKnB,IAAI,0BAA4B+F,GACrC5E,EAAKqE,UAAUvE,EAAMkB,cAGrBhB,GAAKZ,MAAM,uBAGf,OAAOY,IAUXA,EAAKqE,UAAY,SAASnE,GAStB,MANAF,GAAKyD,UAAU9C,OAAS,WAEpBX,EAAKwD,cAAcsB,UAAU9E,EAAKyD,UAAW,EAAG,EAAGzD,EAAKuD,OAAOwB,MAAO/E,EAAKuD,OAAOyB,SAEtFhF,EAAKyD,UAAU3C,IAAMZ,EAEdF,GAUXA,EAAKoE,cAAgB,SAASW,EAAOC,GAEjChF,EAAKnB,IAAI,wBAA0BkG,EAAQ,IAAMC,GAGjDhF,EAAKqD,QAAQ0B,MAAMA,GACnB/E,EAAKqD,QAAQ2B,OAAOA,GAGpBhF,EAAKsD,gBAAgByB,MAAMA,GAC3B/E,EAAKsD,gBAAgB0B,OAAOA,GAG5BhF,EAAKuD,OAAOwB,MAAQA,EACpB/E,EAAKuD,OAAOyB,OAASA,GASzBhF,EAAKiF,eAAiB,WAGlB,GAAyB,aAArBjF,EAAKoD,YAA4B,CAEjC,GAEI8B,GAFApC,EAAe9C,EAAK8C,cAAgB,EACpCqC,EAAmBnF,EAAKqC,gBAAkBS,CAe9C,OATIoC,GAHkC,gBAA3BlF,GAAKoB,QAAQM,YAAiE,MAAvC1B,EAAKoB,QAAQM,WAAW0D,OAAO,IAGtDC,KAAKC,KAAKtF,EAAKgC,OAAOvC,QAAU8F,SAASvF,EAAKoB,QAAQM,YAAY,MAKlE6D,SAASvF,EAAKoB,QAAQM,WAAY,IAInCwD,EAAnBC,EAGX,OAAO,GASXnF,EAAKwF,KAAO,WAwCR,MAtCIxF,GAAKkD,MAEoB,YAArBlD,EAAKmD,cAEDnD,EAAKyF,gBAGLzF,EAAKnB,IAAI,cACTmB,EAAKmD,YAAc,UAGnBnD,EAAKoB,QAAQqB,OAAO6B,KAAKtE,GAGA,YAArBA,EAAKoD,aACLpD,EAAKK,OAQLL,EAAKiF,kBAELjF,EAAK0F,UAIT1F,EAAKb,KAAK,sBAMlBa,EAAKb,KAAK,+BAGPa,GASXA,EAAKuE,mBAAqB,WAEtB,GAAIjC,GAAaqD,EAAYC,EAASC,EAASC,EAAUC,CACzDH,GAAUI,KAAKC,MAEfC,aAAe,WAEX,GAAyB,YAArBlG,EAAKmD,cAELb,EAActC,EAAKgC,OAAOvC,OAAO,EACjCkG,EAAa,IAAK3F,EAAKoB,QAAQC,UAG/BwE,EAAUG,KAAKC,MACfH,EAAWD,EAAUD,EAEjBE,EAAWH,GAAY,CA2BvB,GAzBAC,EAAUC,EAAWC,EAAWH,EAGN,OAAtB3F,EAAK8C,eAEL9C,EAAKoB,QAAQ2B,YAAYuB,KAAKtE,EAAMA,EAAK8C,cAGsB,kBAApD9C,GAAKoB,QAAQ,cAAgBpB,EAAK8C,eACzC9C,EAAKoB,QAAQ,cAAgBpB,EAAK8C,cAAcwB,KAAKtE,EAAMA,EAAK8C,eAM9C,OAAtB9C,EAAK8C,aAEL9C,EAAK8C,aAAe,EAIpB9C,EAAK8C,eAIqC,gBAAnC9C,GAAKgC,OAAOhC,EAAK8C,eAGxB,IAAK9C,EAAKgC,OAAOhC,EAAK8C,cAAc7B,WAIhC,MAFAjB,GAAK0F,aACLlH,QAAO2H,sBAAsBD,kBAOjClG,GAAK8C,aAAe,EAChB9C,EAAKoB,QAAQO,KAEb3B,EAAKoB,QAAQ4B,OAAOsB,KAAKtE,GAIzBA,EAAKoG,MAIbpG,GAAKoB,QAAQyB,aAAayB,KAAKtE,EAAMA,EAAK8C,cAGsB,kBAArD9C,GAAKoB,QAAQ,eAAiBpB,EAAK8C,eAC1C9C,EAAKoB,QAAQ,eAAiBpB,EAAK8C,cAAcwB,KAAKtE,EAAMA,EAAK8C,cAIrE9C,EAAK6E,YAAY7E,EAAK8C,cAGtBiD,EAAoB/F,EAAK8C,aAAeR,EAAa,IACrDtC,EAAK0D,SAASK,KAAK,YAAYgB,MAAMgB,EAAmB,KAIhEvH,OAAO2H,sBAAsBD,eAGjC1H,OAAO2H,sBAAsBD,eASjClG,EAAK0F,OAAS,WAgBV,MAdA1F,GAAKnB,IAAI,aAGTmB,EAAKmD,YAAc,YAGnBnD,EAAKqD,QAAQgD,SAAS,aAGtBrG,EAAKoB,QAAQsB,cAAc4B,KAAKtE,GAGhCA,EAAKsG,WAEEtG,GASXA,EAAKsG,SAAW,WA2BZ,MAxByB,YAArBtG,EAAKmD,YAEDnD,EAAKiF,iBAELsB,WAAW,WACPvG,EAAKsG,YACN,MAIHtG,EAAKnB,IAAI,eAGTmB,EAAKmD,YAAc,UAGnBnD,EAAKwG,cAKTxG,EAAKwG,aAGFxG,GASXA,EAAKK,KAAO,WAER,GAAIL,EAAKkD,OAEL,GAAyB,YAArBlD,EAAKoD,YAA2B,CAEhC,GAAIqD,GAAa,IAEjB,IAA6B,OAAzBzG,EAAKqC,gBAA0B,CAE/BrC,EAAKnB,IAAI,6CAET,KAAK,GAAIW,GAAI,EAAGA,EAAIQ,EAAKgC,OAAOvC,OAAQD,IACpC,IAAKQ,EAAKgC,OAAOxC,GAAGyB,WAAY,CAC5BwF,EAAajH,CACb,YAO2C,gBAAxCQ,GAAKgC,OAAOhC,EAAKqC,gBAAgB,KACxCoE,EAAazG,EAAKqC,gBAAgB,EAIvB,QAAfoE,GAEAzG,EAAKnB,IAAI,cACTmB,EAAKoD,YAAc,UACnBpD,EAAKoB,QAAQc,YAAYoC,KAAKtE,GAC9BA,EAAK0G,OAAOD,IAIZzG,EAAKnB,IAAI,2BAKjBmB,GAAKb,KAAK,8BAGd,OAAOa,IAUXA,EAAK0G,OAAS,SAAS9B,GA2BnB,MAzBA5E,GAAKnB,IAAI,iBAAmB+F,GAC5B5E,EAAK2G,oBACL3G,EAAKgC,OAAO4C,GAAavE,OACxBuG,KAAK,WAEF5G,EAAKnB,IAAI,gBAAkB+F,GAC3B5E,EAAKqC,gBAAkBuC,CAGA5E,GAAK2G,mBAGH,aAArB3G,EAAKoD,cAE8C,gBAAxCpD,GAAKgC,OAAOhC,EAAKqC,gBAAgB,GACxCrC,EAAK0G,OAAO1G,EAAKqC,gBAAgB,IAGjCrC,EAAKnB,IAAI,oBACTmB,EAAKoD,YAAc,WACnBpD,EAAKoB,QAAQoB,eAAe8B,KAAKtE,OAKtCA,GASXA,EAAK2G,kBAAoB,WAErB,GAAIrE,GAAmBtC,EAAKgC,OAAOvC,OAAO,EACtC4C,EAAmBrC,EAAKqC,iBAAmB,EAC3CE,EAAoBF,EAAkBC,EAAa,GAOvD,OALAtC,GAAK0D,SAASK,KAAK,WAAWgB,MAAMxC,EAAmB,KAGvDvC,EAAKoB,QAAQgB,eAAekC,KAAKtE,EAAMqC,EAAgB,EAAGrC,EAAKgC,OAAOvC,OAAQ8C,GAEvEA,GASXvC,EAAKoG,KAAO,WAaR,MAXIpG,GAAKkD,MACoB,YAArBlD,EAAKmD,cACLnD,EAAKnB,IAAI,wBACTmB,EAAKmD,YAAc,UACnBnD,EAAKoB,QAAQwB,OAAO0B,KAAKtE,GACzBA,EAAK6G,YAGT7G,EAAKb,KAAK,+BAGPa,GASXA,EAAKwG,WAAa,WAGd,MAFAxG,GAAKoB,QAAQuB,aAAa2B,KAAKtE,GAC/BA,EAAKqD,QAAQyD,YAAY,aAClB9G,GASXA,EAAK6G,SAAW,WAQZ,MANyB,YAArB7G,EAAKoD,cACLpD,EAAKnB,IAAI,oBACTmB,EAAKoD,YAAc,UACnBpD,EAAKoB,QAAQe,WAAWmC,KAAKtE,IAG1BA,GASXA,EAAK+G,eAAiB,WAClB,MAAO/G,GAAKmD,aAShBnD,EAAKgH,eAAiB,WAClB,MAAOhH,GAAKoD,aAShBpD,EAAKiH,gBAAkB,WACnB,MAAOjH,GAAK8C,cAShB9C,EAAKyF,aAAe,WAChB,MAAOzF,GAAKgC,OAAOvC,QAUvBO,EAAKkH,MAAQ,SAAS1C,GAgClB,MA9BAxE,GAAKnB,IAAI,oBACTmB,EAAKoG,OAED5B,GAEAxE,EAAK8C,aAAe,KACpB9C,EAAKqC,gBAAkB,KACvBrC,EAAKoB,QAAQK,SAAW,KACxBzB,EAAKgC,UAELhC,EAAK0D,SAASK,KAAK,WAAWgB,MAAM,MAEpC/E,EAAKsD,gBAAgB6D,WAAW,WAIhCnH,EAAK8C,aAAe,EAEhB9C,EAAKoB,QAAQK,SACbzB,EAAKqE,UAAUrE,EAAKoB,QAAQK,UACrBO,OAAOvC,QACdO,EAAK2E,UAAU,IAIvB3E,EAAK0D,SAASK,KAAK,YAAYgB,MAAM,MAErC/E,EAAKoB,QAAQ6B,QAAQqB,KAAKtE,GAC1BA,EAAKoB,QAAQa,QAAQqC,KAAKtE,GAEnBA,GAUXA,EAAKnB,IAAM,WAGP,MADAoB,GAAItB,MAAME,IAAI,eAAgBqC,WACvBlB,GAUXA,EAAKZ,MAAQ,WAGT,MADAa,GAAItB,MAAMS,MAAM,eAAgB8B,WACzBlB,GAUXA,EAAKb,KAAO,WAGR,MADAc,GAAItB,MAAMQ,KAAK,eAAgB+B,WACxBlB,GAKJA,EAAKI"}